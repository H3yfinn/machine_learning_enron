#!/usr/bin/python

import numpy as np

def outlierCleaner(predictions, ages_train, net_worths_train):
    """
        Clean away the 10% of points that have the largest
        residual errors (difference between the prediction
        and the actual net worth).

        Return a list of tuples named cleaned_data where 
        each tuple is of the form (age, net_worth, error).
    """
    """
    use this function to help debug
        for x in cleaned_data:
        h.append(x[2])
    h.sort()
    print 'real sort', h[:9]
        
    
    """
    ### your code goes here
    
    cleaned_data = []
    
    for pred,age,networth in zip(predictions, ages_train, net_worths_train):
        cleaned_data.append((age[0], networth[0], pred[0] - abs(networth[0])))
        
    cleaned_data.sort(key=lambda tup: tup[2], reverse = False)
    return cleaned_data[:81]

predictions = np.array([[ 314.65206994],
       [ 314.65206994],
       [ 197.85966514],
       [ 350.19758445],
       [ 152.15828935],
       [ 294.34034737],
       [ 340.04172316],
       [ 233.40517965],
       [ 131.84656678],
       [ 294.34034737],
       [ 268.95069415],
       [ 147.08035871],
       [ 147.08035871],
       [ 177.54794257],
       [ 187.70380386],
       [ 253.71690222],
       [ 289.26241673],
       [ 355.27551509],
       [ 131.84656678],
       [ 329.88586187],
       [ 243.56104094],
       [ 187.70380386],
       [ 177.54794257],
       [ 319.73000059],
       [ 223.24931836],
       [ 284.18448608],
       [ 177.54794257],
       [ 304.49620866],
       [ 253.71690222],
       [ 177.54794257],
       [ 208.01552643],
       [ 213.09345707],
       [ 142.00242807],
       [ 213.09345707],
       [ 147.08035871],
       [ 126.76863614],
       [ 187.70380386],
       [ 202.93759579],
       [ 253.71690222],
       [ 172.47001193],
       [ 350.19758445],
       [ 177.54794257],
       [ 263.87276351],
       [ 324.80793123],
       [ 223.24931836],
       [ 187.70380386],
       [ 334.96379252],
       [ 319.73000059],
       [ 319.73000059],
       [ 136.92449742],
       [ 162.31415064],
       [ 324.80793123],
       [ 274.0286248 ],
       [ 192.7817345 ],
       [ 213.09345707],
       [ 131.84656678],
       [ 147.08035871],
       [ 197.85966514],
       [ 274.0286248 ],
       [ 248.63897158],
       [ 182.62587321],
       [ 136.92449742],
       [ 162.31415064],
       [ 274.0286248 ],
       [ 350.19758445],
       [ 294.34034737],
       [ 218.17138772],
       [ 248.63897158],
       [ 136.92449742],
       [ 213.09345707],
       [ 284.18448608],
       [ 218.17138772],
       [ 268.95069415],
       [ 263.87276351],
       [ 131.84656678],
       [ 187.70380386],
       [ 289.26241673],
       [ 187.70380386],
       [ 162.31415064],
       [ 243.56104094],
       [ 268.95069415],
       [ 279.10655544],
       [ 355.27551509],
       [ 258.79483287],
       [ 314.65206994],
       [ 355.27551509],
       [ 345.1196538 ],
       [ 274.0286248 ],
       [ 309.5741393 ],
       [ 172.47001193]])
ages = np.array([[57],
       [57],
       [34],
       [64],
       [25],
       [53],
       [62],
       [41],
       [21],
       [53],
       [48],
       [24],
       [24],
       [30],
       [32],
       [45],
       [52],
       [65],
       [21],
       [60],
       [43],
       [32],
       [30],
       [58],
       [39],
       [51],
       [30],
       [55],
       [45],
       [30],
       [36],
       [37],
       [23],
       [37],
       [24],
       [20],
       [32],
       [35],
       [45],
       [29],
       [64],
       [30],
       [47],
       [59],
       [39],
       [32],
       [61],
       [58],
       [58],
       [22],
       [27],
       [59],
       [49],
       [33],
       [37],
       [21],
       [24],
       [34],
       [49],
       [44],
       [31],
       [22],
       [27],
       [49],
       [64],
       [53],
       [38],
       [44],
       [22],
       [37],
       [51],
       [38],
       [48],
       [47],
       [21],
       [32],
       [52],
       [32],
       [27],
       [43],
       [48],
       [50],
       [65],
       [46],
       [57],
       [65],
       [63],
       [49],
       [56],
       [29]])

net_worths= np.array([[ 338.08951849],
       [ 344.21586776],
       [ 243.79287312],
       [ 378.84578142],
       [ 133.88384977],
       [ 326.56693251],
       [ 389.24094136],
       [ 250.26985299],
       [ 136.08924543],
       [ 368.29556369],
       [ 318.62560238],
       [ 139.40479592],
       [ 126.98012845],
       [ 185.18703435],
       [ 187.09760491],
       [ 270.00424942],
       [ 339.7693316 ],
       [  34.19027438],
       [ 142.10120087],
       [ 374.28347922],
       [ 259.43540493],
       [ 221.14244452],
       [ 177.46485913],
       [ 350.4872262 ],
       [ 134.41369499],
       [ 314.06726086],
       [ 186.05979757],
       [ 370.87480057],
       [ 256.833127  ],
       [ 167.24337759],
       [ 189.73919689],
       [ 247.70089824],
       [ 159.09869458],
       [  16.50778868],
       [ 157.51396037],
       [  96.75392597],
       [ 207.14225143],
       [ 220.96845179],
       [ 259.12330052],
       [ 142.98439511],
       [ 389.11234551],
       [ 217.96059713],
       [ 300.03494665],
       [ 342.18627902],
       [ 234.36051228],
       [ 201.83521553],
       [ 412.83425631],
       [ 378.75051645],
       [ 366.6772719 ],
       [ 147.76534866],
       [ 151.96564954],
       [ 129.10958749],
       [ 326.86999045],
       [ 200.22792609],
       [ 237.73167939],
       [ 151.32065796],
       [ 140.78722458],
       [ 219.7327205 ],
       [ 302.53682047],
       [  64.06616829],
       [ 153.99862171],
       [ 140.92736562],
       [ 175.37526863],
       [ 313.12236579],
       [ 122.70221489],
       [ 325.06575248],
       [ 253.93805009],
       [ 274.73005551],
       [  47.70052125],
       [ 250.76090254],
       [ 294.82586752],
       [ 221.33012794],
       [ 260.80659752],
       [ 287.916125  ],
       [ 128.48471398],
       [ 186.46155999],
       [ 320.48447399],
       [ 212.95377076],
       [ 140.25503628],
       [ 275.32502219],
       [  80.90133629],
       [ 260.10509792],
       [ 424.55804235],
       [ 317.05788089],
       [ 385.56297538],
       [ 396.66651524],
       [ 424.51073133],
       [ 271.75164335],
       [ 121.11602327],
       [ 173.54835439]])

